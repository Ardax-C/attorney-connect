import{s as te,r as se,n as he}from"../chunks/scheduler.BdtpZxVt.js";import{S as re,i as oe,e as u,c as ne,s as U,w as X,a as c,b as P,d as le,f as O,g as S,h as p,j as r,k as be,l as F,m as ae,n as o,x as M,u as L,y as ie,t as ue,o as ce,p as de,q as fe,r as me,v as pe}from"../chunks/index.C7Q59YAp.js";import{N as ve,b as ge,e as _e,a as ye,q as we,w as xe,f as Ee,s as ke,c as W,h as Ce,i as Pe}from"../chunks/pexels-lastly-2086917.BAb06SF4.js";import{g as Ie}from"../chunks/entry.BipaZ4To.js";function Y(l){let e,s;return{c(){e=u("p"),s=fe(l[2]),this.h()},l(t){e=c(t,"P",{class:!0});var n=P(e);s=me(n,l[2]),n.forEach(p),this.h()},h(){r(e,"class","text-red-500 mb-4")},m(t,n){F(t,e,n),o(e,s)},p(t,n){n&4&&pe(s,t[2])},d(t){t&&p(e)}}}function Z(l){let e,s,t,n="Reset Password",x,i,I,h,b,q,d,E,T="Send Reset Email",v,k,_="Cancel",D,N,f=l[4]&&ee(l);return{c(){e=u("div"),s=u("div"),t=u("h2"),t.textContent=n,x=U(),i=u("form"),I=u("div"),h=u("input"),b=U(),f&&f.c(),q=U(),d=u("div"),E=u("button"),E.textContent=T,v=U(),k=u("button"),k.textContent=_,this.h()},l(g){e=c(g,"DIV",{class:!0});var m=P(e);s=c(m,"DIV",{class:!0});var B=P(s);t=c(B,"H2",{class:!0,"data-svelte-h":!0}),S(t)!=="svelte-1igztqa"&&(t.textContent=n),x=O(B),i=c(B,"FORM",{});var V=P(i);I=c(V,"DIV",{class:!0});var R=P(I);h=c(R,"INPUT",{type:!0,placeholder:!0,class:!0}),R.forEach(p),b=O(V),f&&f.l(V),q=O(V),d=c(V,"DIV",{class:!0});var $=P(d);E=c($,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),S(E)!=="svelte-10o244l"&&(E.textContent=T),v=O($),k=c($,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),S(k)!=="svelte-wkqtu4"&&(k.textContent=_),$.forEach(p),V.forEach(p),B.forEach(p),m.forEach(p),this.h()},h(){r(t,"class","text-2xl font-bold mb-4"),r(h,"type","email"),r(h,"placeholder","Enter your email"),r(h,"class","w-full px-4 py-3 text-base border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-custom-color-primary"),h.required=!0,r(I,"class","mb-4"),r(E,"type","submit"),r(E,"class","bg-custom-btn-bg text-custom-btn-text px-6 py-3 text-base rounded-md hover:bg-custom-btn-hover-bg hover:text-custom-btn-hover-text focus:outline-none focus:ring-2 focus:ring-custom-btn-active-bg"),r(k,"type","button"),r(k,"class","text-custom-color-secondary text-base hover:underline"),r(d,"class","flex items-center justify-between"),r(s,"class","bg-white p-6 rounded-md shadow-md w-full max-w-md"),r(e,"class","fixed inset-0 flex items-center justify-center bg-black bg-opacity-50")},m(g,m){F(g,e,m),o(e,s),o(s,t),o(s,x),o(s,i),o(i,I),o(I,h),M(h,l[3]),o(i,b),f&&f.m(i,null),o(i,q),o(i,d),o(d,E),o(d,v),o(d,k),D||(N=[L(h,"input",l[11]),L(k,"click",l[12]),L(i,"submit",ie(l[7]))],D=!0)},p(g,m){m&8&&h.value!==g[3]&&M(h,g[3]),g[4]?f?f.p(g,m):(f=ee(g),f.c(),f.m(i,q)):f&&(f.d(1),f=null)},d(g){g&&p(e),f&&f.d(),D=!1,se(N)}}}function ee(l){let e,s;return{c(){e=u("p"),s=fe(l[4]),this.h()},l(t){e=c(t,"P",{class:!0});var n=P(e);s=me(n,l[4]),n.forEach(p),this.h()},h(){r(e,"class","text-green-500 mb-4")},m(t,n){F(t,e,n),o(e,s)},p(t,n){n&16&&pe(s,t[4])},d(t){t&&p(e)}}}function qe(l){let e,s,t,n,x,i,I="Login to your account:",h,b,q,d,E,T,v,k,_,D,N,f="Login",g,m,B="Forgot Password?",V,R,$,A,G;s=new ve({});let y=l[2]&&Y(l),w=l[5]&&Z(l);return{c(){e=u("div"),ne(s.$$.fragment),t=U(),n=u("div"),x=u("div"),i=u("h2"),i.textContent=I,h=U(),b=u("form"),q=u("div"),d=u("input"),E=U(),T=u("div"),v=u("input"),k=U(),y&&y.c(),_=U(),D=u("div"),N=u("button"),N.textContent=f,g=U(),m=u("button"),m.textContent=B,V=U(),w&&w.c(),R=X(),this.h()},l(a){e=c(a,"DIV",{class:!0,style:!0});var C=P(e);le(s.$$.fragment,C),t=O(C),n=c(C,"DIV",{class:!0});var J=P(n);x=c(J,"DIV",{class:!0});var z=P(x);i=c(z,"H2",{class:!0,"data-svelte-h":!0}),S(i)!=="svelte-1528tkk"&&(i.textContent=I),h=O(z),b=c(z,"FORM",{});var j=P(b);q=c(j,"DIV",{class:!0});var K=P(q);d=c(K,"INPUT",{type:!0,placeholder:!0,class:!0}),K.forEach(p),E=O(j),T=c(j,"DIV",{class:!0});var Q=P(T);v=c(Q,"INPUT",{type:!0,placeholder:!0,class:!0}),Q.forEach(p),k=O(j),y&&y.l(j),_=O(j),D=c(j,"DIV",{class:!0});var H=P(D);N=c(H,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),S(N)!=="svelte-g84ond"&&(N.textContent=f),g=O(H),m=c(H,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),S(m)!=="svelte-f2mknk"&&(m.textContent=B),H.forEach(p),j.forEach(p),z.forEach(p),J.forEach(p),C.forEach(p),V=O(a),w&&w.l(a),R=X(),this.h()},h(){r(i,"class","text-2xl sm:text-3xl font-bold mb-6 text-center text-custom-color-secondary"),r(d,"type","text"),r(d,"placeholder","Email or Username"),r(d,"class","w-full px-4 py-3 text-base border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-custom-color-primary"),d.required=!0,r(q,"class","mb-4"),r(v,"type","password"),r(v,"placeholder","Password"),r(v,"class","w-full px-4 py-3 text-base border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-custom-color-primary"),v.required=!0,r(T,"class","mb-6"),r(N,"type","submit"),r(N,"class","bg-custom-btn-bg text-custom-btn-text px-6 py-3 text-base rounded-md hover:bg-custom-btn-hover-bg hover:text-custom-btn-hover-text focus:outline-none focus:ring-2 focus:ring-custom-btn-active-bg mb-4 sm:mb-0 w-full sm:w-auto"),r(m,"type","button"),r(m,"class","text-custom-color-secondary text-base hover:underline bg-transparent border-none p-0"),r(D,"class","flex flex-col sm:flex-row items-center justify-between"),r(x,"class","bg-zinc-800 bg-opacity-90 p-6 sm:p-8 rounded-md shadow-md w-full max-w-md"),r(n,"class","flex items-center justify-center py-8 px-4"),r(e,"class","bg-no-repeat bg-center bg-cover min-h-screen"),be(e,"background-image","url("+ge+")")},m(a,C){F(a,e,C),ae(s,e,null),o(e,t),o(e,n),o(n,x),o(x,i),o(x,h),o(x,b),o(b,q),o(q,d),M(d,l[0]),o(b,E),o(b,T),o(T,v),M(v,l[1]),o(b,k),y&&y.m(b,null),o(b,_),o(b,D),o(D,N),o(D,g),o(D,m),F(a,V,C),w&&w.m(a,C),F(a,R,C),$=!0,A||(G=[L(d,"input",l[8]),L(v,"input",l[9]),L(m,"click",l[10]),L(b,"submit",ie(l[6]))],A=!0)},p(a,[C]){C&1&&d.value!==a[0]&&M(d,a[0]),C&2&&v.value!==a[1]&&M(v,a[1]),a[2]?y?y.p(a,C):(y=Y(a),y.c(),y.m(b,_)):y&&(y.d(1),y=null),a[5]?w?w.p(a,C):(w=Z(a),w.c(),w.m(R.parentNode,R)):w&&(w.d(1),w=null)},i(a){$||(ue(s.$$.fragment,a),$=!0)},o(a){ce(s.$$.fragment,a),$=!1},d(a){a&&(p(e),p(V),p(R)),de(s),y&&y.d(),w&&w.d(a),A=!1,se(G)}}}function De(l,e,s){let t="",n="",x="",i="",I="",h=!1;async function b(){try{let _=t;if(!t.includes("@")){const f=_e(ye,"users"),g=we(f,xe("username","==",t)),m=await Ee(g);if(m.empty)throw new Error("No user found with this username.");_=m.docs[0].data().email}if(!(await ke(W,_,n)).user.emailVerified)throw await Ce(W),new Error("Please verify your email before logging in.");Ie("/profile")}catch(_){console.error("Error during login:",_),s(2,x=_.message)}}async function q(){try{await Pe(W,i),s(4,I="Password reset email sent. Please check your email.")}catch(_){console.error("Error during password reset:",_),s(4,I=_.message)}}function d(){t=this.value,s(0,t)}function E(){n=this.value,s(1,n)}const T=()=>s(5,h=!0);function v(){i=this.value,s(3,i)}return[t,n,x,i,I,h,b,q,d,E,T,v,()=>s(5,h=!1)]}class Ne extends re{constructor(e){super(),oe(this,e,De,qe,te,{})}}function Te(l){let e,s;return e=new Ne({}),{c(){ne(e.$$.fragment)},l(t){le(e.$$.fragment,t)},m(t,n){ae(e,t,n),s=!0},p:he,i(t){s||(ue(e.$$.fragment,t),s=!0)},o(t){ce(e.$$.fragment,t),s=!1},d(t){de(e,t)}}}class $e extends re{constructor(e){super(),oe(this,e,null,Te,te,{})}}export{$e as component};
